# Практическая работа №6 
# Терентьев Никита КИ21-16/1Б. Вариант 8 - велосипед
## Spring Security

Цель работы: ознакомиться с настройкой безопасности в Spring.
Общая постановка задачи.

Изменить практическую работу №5, добавив следующий функционал:

    Добавить простейшую страницу регистрации. Пользователь вводит свои логин и пароль и данная информация вносится в базу данных, пользователю присваивается роль пользователя (User) приложения.
    Добавить простейшую форму аутентификации. Форма создается программно, а не автоматически генерируется Spring.
    В приложении должен быть предусмотрен пользователь — администратор (Admin) с ролью отличной, от User.
    Разграничить уровни доступа к страницам приложения. Пользователь (User) имеет доступ только к страницам просмотра всех записей и запросов. Администратор (Admin) имеет возможность добавлять, редактировать и удалять записи.
    Информация о пользователях и их ролях должна храниться в базе данных. Способ хранения — на усмотрение студента.
    Предусмотреть возможность выхода из приложения (logout).
    Продемонстрировать умение настраивать безопасность на уровне представлений. Для этого реализуется приветствие пользователя после его входа и отображение элемента на основе его роли.

Результат работы - tar.gz-архив или текстовый файл со ссылкой на репозиторий (код проекта должен содержать документирующие комментарии) с инструкциями по развертыванию приложения и его зависимостей, а также по использованию. Работа должна быть защищена преподавателю. Защита состоит в пояснении хода действий для решения поставленной задачи и ответов на теоретические вопросы или вопросы, возникающие у преподавателя в ходе проверки работы.
## Сборка и запуск приложения

Для того, чтобы создать базу данных, все необходимые таблицы и аккаунты базовых пользователей, выполните следующую команду:

`
psql -U postgres -f 'путь до проекта/lab_5/sql/script.sql'
`

Для того, чтобы собрать проект, выполните следующую команду:

`
mvn package
`

Перейдите в директорию `apache-tomcat-your_version/webapps` и перенесите в неё файл `lab_6-1.0.war` из директории `target` проекта 

Теперь перейдите в директорию `apache-tomcat-your_version/bin`, и выполните команду `./startup.sh` если у вас система MacOS/GNU Linux, или запустите файл `startup.bat` если у вас Windows

Выполните следующую команду на системах кроме Windows, чтобы увидеть логи:

`tail -f ../logs/catalina.out`

После окончания деплоя перейдите по адресу `localhost:8080/lab_6-1.0/`

Вы увидите форму аутентификации.

===================================================

По умолчанию в базе данных есть следующие аккаунты:

Логин  Пароль

user   12345 c ролью USER

admin  12345 с ролью ADMIN

===================================================

По окончании работы выполните команду `shutdown.sh` чтобы остановить сервер.